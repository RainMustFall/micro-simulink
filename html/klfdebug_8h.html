<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: klfbackend/klfdebug.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6abbb8f46b7552236afc7c46fea27ff6.html">klfbackend</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">klfdebug.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Debugging utilities.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;qmap.h&gt;</code><br />
<code>#include &quot;<a class="el" href="klfdefs_8h_source.html">klfdefs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for klfdebug.h:</div>
<div class="dyncontent">
<div class="center"><img src="klfdebug_8h__incl.png" border="0" usemap="#aklfbackend_2klfdebug_8h" alt=""/></div>
<map name="aklfbackend_2klfdebug_8h" id="aklfbackend_2klfdebug_8h">
<area shape="rect" title="Debugging utilities." alt="" coords="65,5,215,32"/>
<area shape="rect" title=" " alt="" coords="14,80,79,107"/>
<area shape="rect" href="klfdefs_8h.html" title="Base declarations for klatexformula and some utilities." alt="" coords="104,80,176,107"/>
<area shape="rect" title=" " alt="" coords="5,155,80,181"/>
<area shape="rect" title=" " alt="" coords="104,155,176,181"/>
<area shape="rect" title=" " alt="" coords="201,155,279,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="klfdebug_8h__dep__incl.png" border="0" usemap="#aklfbackend_2klfdebug_8hdep" alt=""/></div>
<map name="aklfbackend_2klfdebug_8hdep" id="aklfbackend_2klfdebug_8hdep">
<area shape="rect" title="Debugging utilities." alt="" coords="131,5,280,32"/>
<area shape="rect" href="klfdefs_8h.html" title="Base declarations for klatexformula and some utilities." alt="" coords="136,80,275,107"/>
<area shape="rect" href="klfbackend_8h.html" title="Definition of class KLFBackend." alt="" coords="5,155,168,181"/>
<area shape="rect" href="klfpreviewbuilderthread_8h_source.html" title=" " alt="" coords="89,229,322,256"/>
<area shape="rect" href="klfblockprocess_8h.html" title="Defines the KLFBlockProcess class." alt="" coords="243,155,434,181"/>
<area shape="rect" href="latex__display__widget_8h_source.html" title=" " alt="" coords="39,304,217,331"/>
</map>
</div>
</div>
<p><a href="klfdebug_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKLFDebugBlock.html">KLFDebugBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility to time the execution of a block.  <a href="classKLFDebugBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKLFDebugBlockTimer.html">KLFDebugBlockTimer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An extension of <a class="el" href="classKLFDebugBlock.html" title="Utility to time the execution of a block.">KLFDebugBlock</a> with millisecond-time display.  <a href="classKLFDebugBlockTimer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class____klf__dbg__string__obj.html">__klf_dbg_string_obj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKLFDebugObjectWatcher.html">KLFDebugObjectWatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a724707eb67cb5fc0d32d187d782b8b06"><td class="memItemLeft" align="right" valign="top"><a id="a724707eb67cb5fc0d32d187d782b8b06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>KLF_SHORT_TIME</b>&#160;&#160;&#160;(<a class="el" href="klfdebug_8h.html#af0bc31545e6795c4a6f2cfce923e8868">klfTimeOfDay</a>().ascii())</td></tr>
<tr class="separator:a724707eb67cb5fc0d32d187d782b8b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa524bc8e17fce5323ea853e70a8d44a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">KLF_DEBUG_DECLARE_REF_INSTANCE</a>(expr)</td></tr>
<tr class="memdesc:aa524bc8e17fce5323ea853e70a8d44a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a 'ref-instance' identifier for identifying insances in debug output.  <a href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">More...</a><br /></td></tr>
<tr class="separator:aa524bc8e17fce5323ea853e70a8d44a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90be45a8dca9af4e6a6f982c6ce05a93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a90be45a8dca9af4e6a6f982c6ce05a93">KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE</a>()</td></tr>
<tr class="memdesc:a90be45a8dca9af4e6a6f982c6ce05a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare that this class has an assignable debugging ref-instance.  <a href="klfdebug_8h.html#a90be45a8dca9af4e6a6f982c6ce05a93">More...</a><br /></td></tr>
<tr class="separator:a90be45a8dca9af4e6a6f982c6ce05a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d701bdc56c3e0ed142193cd3ca41fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE</a>(object,  ref_instance)</td></tr>
<tr class="memdesc:ae0d701bdc56c3e0ed142193cd3ca41fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a debugging ref-instance to a class instance.  <a href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">More...</a><br /></td></tr>
<tr class="separator:ae0d701bdc56c3e0ed142193cd3ca41fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c19c088c6291d01092fe1404e342675"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a5c19c088c6291d01092fe1404e342675">KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE</a>(object)</td></tr>
<tr class="memdesc:a5c19c088c6291d01092fe1404e342675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns to the given object the same ref-instance as the current object instance.  <a href="klfdebug_8h.html#a5c19c088c6291d01092fe1404e342675">More...</a><br /></td></tr>
<tr class="separator:a5c19c088c6291d01092fe1404e342675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1135833ff1f2019684d3f9fb44ec8f3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a1135833ff1f2019684d3f9fb44ec8f3b">KLF_DEBUG_TIME_BLOCK</a>(msg)</td></tr>
<tr class="memdesc:a1135833ff1f2019684d3f9fb44ec8f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility to time the execution of a block.  <a href="klfdebug_8h.html#a1135833ff1f2019684d3f9fb44ec8f3b">More...</a><br /></td></tr>
<tr class="separator:a1135833ff1f2019684d3f9fb44ec8f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab598fc2e2eda50a7703e2ceae289235a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>(msg)</td></tr>
<tr class="memdesc:ab598fc2e2eda50a7703e2ceae289235a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility to debug the execution of a block.  <a href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">More...</a><br /></td></tr>
<tr class="separator:ab598fc2e2eda50a7703e2ceae289235a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad012ab9318b2476e2a2cb69054314f7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#ad012ab9318b2476e2a2cb69054314f7a">KLF_DEBUG_TEE</a>(expr)</td></tr>
<tr class="memdesc:ad012ab9318b2476e2a2cb69054314f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the value of expression and return it.  <a href="klfdebug_8h.html#ad012ab9318b2476e2a2cb69054314f7a">More...</a><br /></td></tr>
<tr class="separator:ad012ab9318b2476e2a2cb69054314f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba4d79c54bcf0efb7e7193738210b3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>(streamableItems)</td></tr>
<tr class="memdesc:afba4d79c54bcf0efb7e7193738210b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">print debug stream items  <a href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">More...</a><br /></td></tr>
<tr class="separator:afba4d79c54bcf0efb7e7193738210b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf65717eb3c4c4be8924f17ee8570df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#accf65717eb3c4c4be8924f17ee8570df">klfDbgT</a>(streamableItems)</td></tr>
<tr class="memdesc:accf65717eb3c4c4be8924f17ee8570df"><td class="mdescLeft">&#160;</td><td class="mdescRight">print debug stream items, with current time  <a href="klfdebug_8h.html#accf65717eb3c4c4be8924f17ee8570df">More...</a><br /></td></tr>
<tr class="separator:accf65717eb3c4c4be8924f17ee8570df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752443613b23e1809dfa910625dda741"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a752443613b23e1809dfa910625dda741">klfDbgSt</a>(streamableItems)</td></tr>
<tr class="memdesc:a752443613b23e1809dfa910625dda741"><td class="mdescLeft">&#160;</td><td class="mdescRight">print debug stream items (special case)  <a href="klfdebug_8h.html#a752443613b23e1809dfa910625dda741">More...</a><br /></td></tr>
<tr class="separator:a752443613b23e1809dfa910625dda741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1442e7aabc4c6846ea62376da1bd04f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a1442e7aabc4c6846ea62376da1bd04f8">klfDbgStT</a>(streamableItems)</td></tr>
<tr class="memdesc:a1442e7aabc4c6846ea62376da1bd04f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">print debug stream items, with current time (special case)  <a href="klfdebug_8h.html#a1442e7aabc4c6846ea62376da1bd04f8">More...</a><br /></td></tr>
<tr class="separator:a1442e7aabc4c6846ea62376da1bd04f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e63ae00b74a3b35c4a67f67a181564"><td class="memItemLeft" align="right" valign="top"><a id="ac5e63ae00b74a3b35c4a67f67a181564"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>KLF_DEBUG_WATCH_OBJECT</b>(qobj)</td></tr>
<tr class="separator:ac5e63ae00b74a3b35c4a67f67a181564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb972900d9bcace32d4898c8a31252e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a>(expr,  msg,  failaction)</td></tr>
<tr class="memdesc:accb972900d9bcace32d4898c8a31252e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserting Conditions (NON-FATAL)  <a href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">More...</a><br /></td></tr>
<tr class="separator:accb972900d9bcace32d4898c8a31252e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc8e2f85341746858f1983147572d66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a8bc8e2f85341746858f1983147572d66">KLF_ASSERT_CONDITION_ELSE</a>(expr,  msg,  failaction)</td></tr>
<tr class="memdesc:a8bc8e2f85341746858f1983147572d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserting Conditions previous to block (NON-FATAL)  <a href="klfdebug_8h.html#a8bc8e2f85341746858f1983147572d66">More...</a><br /></td></tr>
<tr class="separator:a8bc8e2f85341746858f1983147572d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca5498da09e9e71cb3a2e09719c30d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#acca5498da09e9e71cb3a2e09719c30d3">KLF_ASSERT_NOT_NULL</a>(ptr,  msg,  failaction)</td></tr>
<tr class="memdesc:acca5498da09e9e71cb3a2e09719c30d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserting Non-NULL pointers (NON-FATAL)  <a href="klfdebug_8h.html#acca5498da09e9e71cb3a2e09719c30d3">More...</a><br /></td></tr>
<tr class="separator:acca5498da09e9e71cb3a2e09719c30d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a550bd13996561906a3007d2d5000da72"><td class="memItemLeft" align="right" valign="top"><a id="a550bd13996561906a3007d2d5000da72"></a>
KLF_EXPORT QByteArray&#160;</td><td class="memItemRight" valign="bottom"><b>klfShortFuncSignature</b> (const QByteArray &amp;fullFuncName)</td></tr>
<tr class="separator:a550bd13996561906a3007d2d5000da72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a9ea0e9b032087edb53e3a3a640a28"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#a70a9ea0e9b032087edb53e3a3a640a28">klfShortFuncSignature</a> (const char *fullFuncName)</td></tr>
<tr class="separator:a70a9ea0e9b032087edb53e3a3a640a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bc31545e6795c4a6f2cfce923e8868"><td class="memItemLeft" align="right" valign="top">KLF_EXPORT QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="klfdebug_8h.html#af0bc31545e6795c4a6f2cfce923e8868">klfTimeOfDay</a> (bool shortFmt=true)</td></tr>
<tr class="separator:af0bc31545e6795c4a6f2cfce923e8868"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Debugging utilities. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="accb972900d9bcace32d4898c8a31252e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb972900d9bcace32d4898c8a31252e">&#9670;&nbsp;</a></span>KLF_ASSERT_CONDITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_ASSERT_CONDITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">failaction&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asserting Conditions (NON-FATAL) </p>
<p>If the given expression <code>expr</code> is FALSE, then prints function name and the given message <code>msg</code> to standard warning output (using Qt's qWarning()) and executes instructions given by <code>failaction</code>.</p>
<p><code>failaction</code> is any C/C++ instructions that you can place inside a normal code block (in this case the code will be contained in an 'if' block). The allowed instructions include for example <code>'return'</code>, <code>'continue'</code> or <code>'break'</code> instructions.</p>
<p>On Qt 4, <code>msg</code> may contain <code>&lt;&lt;</code> operators to chain output to a QDebug.</p>
<p>On Qt 3, <code>msg</code> may be anything that can be added with <code>'+'</code> to a QString.</p>
<p>A helper macro for asserting non-NULL pointers is also defined as <a class="el" href="klfdebug_8h.html#acca5498da09e9e71cb3a2e09719c30d3">KLF_ASSERT_NOT_NULL</a>. It directly calls KLF_ASSERT_CONDITION with the expression <code>(ptr) != NULL</code>.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> static_has_failed = <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordtype">void</span> * find_whatever_pointer(SomeContainer c, <span class="keyword">const</span> <span class="keywordtype">char</span> * querystring) {</div>
<div class="line">  <span class="keywordtype">int</span> i = ... <span class="comment">// find &#39;querystring&#39; in the container &#39;c&#39;</span></div>
<div class="line">  <a class="code" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a>( i &gt;= 0 &amp;&amp; i &lt; c.size() ,</div>
<div class="line">                        <span class="stringliteral">&quot;Can&#39;t find string &quot;</span>&lt;&lt;querystring&lt;&lt;<span class="stringliteral">&quot;!&quot;</span> ,  <span class="comment">// Assuming Qt 4 for &lt;&lt; streaming</span></div>
<div class="line">                        static_has_failed = <span class="keyword">true</span>;  <span class="keywordflow">return</span> NULL;  )</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="line">QString get_myobject_name(MyObject *<span class="keywordtype">object</span>) {</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#acca5498da09e9e71cb3a2e09719c30d3">KLF_ASSERT_NOT_NULL</a>( <span class="keywordtype">object</span> , <span class="stringliteral">&quot;object is NULL!&quot;</span> , <span class="keywordflow">return</span> QString() ) ;</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keywordtype">object</span>-&gt;name;</div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_acca5498da09e9e71cb3a2e09719c30d3"><div class="ttname"><a href="klfdebug_8h.html#acca5498da09e9e71cb3a2e09719c30d3">KLF_ASSERT_NOT_NULL</a></div><div class="ttdeci">#define KLF_ASSERT_NOT_NULL(ptr, msg, failaction)</div><div class="ttdoc">Asserting Non-NULL pointers (NON-FATAL)</div></div>
<div class="ttc" id="aklfdebug_8h_html_accb972900d9bcace32d4898c8a31252e"><div class="ttname"><a href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a></div><div class="ttdeci">#define KLF_ASSERT_CONDITION(expr, msg, failaction)</div><div class="ttdoc">Asserting Conditions (NON-FATAL)</div></div>
</div><!-- fragment --><p>Note Qt4 is needed to use the streaming operators as in the first asserting condition above. With Qt 3, one has to use QString's '+' operator: </p><div class="fragment"><div class="line"><a class="code" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a>( ... , <span class="stringliteral">&quot;Can&#39;t find string &quot;</span>+querystring+<span class="stringliteral">&quot;!&quot;</span> , ... );</div>
</div><!-- fragment --><p> Which works since on Qt 3, the <code>msg</code> argument text is expanded after a <code>QString("")+</code>.</p>
<p>This macro is not affected by the KLF_DEBUG symbol. This macro is always defined and functional. </p>

</div>
</div>
<a id="a8bc8e2f85341746858f1983147572d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bc8e2f85341746858f1983147572d66">&#9670;&nbsp;</a></span>KLF_ASSERT_CONDITION_ELSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_ASSERT_CONDITION_ELSE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">failaction&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asserting Conditions previous to block (NON-FATAL) </p>
<p>Similar to <a class="el" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a>, but expects a block of actions to perform if indeed the condition is met. An example: </p><div class="fragment"><div class="line"><span class="keyword">class </span>MyObject {</div>
<div class="line">  MyTarget *pTarget;</div>
<div class="line">  <span class="keywordtype">int</span> otherfield;</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> reinitialize();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> MyObject::reinitialize()</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line">  <span class="comment">// if the condition is not met, print the message, and don&#39;t attempt to dereference</span></div>
<div class="line">  <span class="comment">// the pointer, but proceed in this function, eg. assign `otherfield&#39; etc.</span></div>
<div class="line">  <a class="code" href="klfdebug_8h.html#a8bc8e2f85341746858f1983147572d66">KLF_ASSERT_CONDITION_ELSE</a>( pTarget != NULL , <span class="stringliteral">&quot;Warning n != 0 !!&quot;</span> , )</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// for example...</span></div>
<div class="line">    pTarget-&gt;reinitializeTarget();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  otherfield = ...;</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_a8bc8e2f85341746858f1983147572d66"><div class="ttname"><a href="klfdebug_8h.html#a8bc8e2f85341746858f1983147572d66">KLF_ASSERT_CONDITION_ELSE</a></div><div class="ttdeci">#define KLF_ASSERT_CONDITION_ELSE(expr, msg, failaction)</div><div class="ttdoc">Asserting Conditions previous to block (NON-FATAL)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="acca5498da09e9e71cb3a2e09719c30d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca5498da09e9e71cb3a2e09719c30d3">&#9670;&nbsp;</a></span>KLF_ASSERT_NOT_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_ASSERT_NOT_NULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">failaction&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asserting Non-NULL pointers (NON-FATAL) </p>
<p>This macro is equivalent to </p><div class="fragment"><div class="line"><a class="code" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a>(ptr != NULL, message, failaction) ;</div>
</div><!-- fragment --><p>If the given pointer <code>ptr</code> is NULL, then prints function name and the given message <code>msg</code> to standard warning output (using Qt's qWarning()) and executes instructions given by <code>failaction</code>.</p>
<p>On Qt 4, <code>msg</code> may contain &lt;&lt; operators to chain output to a QDebug.</p>
<p>On Qt 3, <code>msg</code> may be anything that can be added with <code>'+'</code> to a QString.</p>
<p>See <a class="el" href="klfdebug_8h.html#accb972900d9bcace32d4898c8a31252e">KLF_ASSERT_CONDITION</a> for more information. </p>

</div>
</div>
<a id="ae0d701bdc56c3e0ed142193cd3ca41fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0d701bdc56c3e0ed142193cd3ca41fd">&#9670;&nbsp;</a></span>KLF_DEBUG_ASSIGN_REF_INSTANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_ASSIGN_REF_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ref_instance&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign a debugging ref-instance to a class instance. </p>
<p>The class declaration must contain a call to the <a class="el" href="klfdebug_8h.html#a90be45a8dca9af4e6a6f982c6ce05a93">KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE()</a> macro.</p>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// vehicle.h</span></div>
<div class="line"><span class="keyword">class </span>Vehicle {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  Vehicle(QString xmlspecsfile) { loadFromXML(xmlspecsfile);  }</div>
<div class="line">  ...</div>
<div class="line">  <span class="keywordtype">double</span> calculate_drag_force(<span class="keywordtype">double</span> speed);</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">void</span> loadFromXML(<span class="keyword">const</span> QString&amp; fname);</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#a90be45a8dca9af4e6a6f982c6ce05a93">KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE</a>()</div>
<div class="line">}</div>
<div class="line"><span class="comment">// vehicle.cpp</span></div>
<div class="line"><span class="keywordtype">void</span> Vehicle::loadFromXML()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// ... load vehicle data and parameters from XML file</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> Vehicle::calculate_drag_force(<span class="keywordtype">double</span> speed)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>(<span class="stringliteral">&quot;shape-factor=&quot;</span>&lt;&lt;...&lt;&lt;<span class="stringliteral">&quot;, speed=&quot;</span>&lt;&lt;speed ) ;</div>
<div class="line">  ...</div>
<div class="line">  <span class="keywordflow">return</span> drag_force;</div>
<div class="line">}</div>
<div class="line"><span class="comment">// main.cpp</span></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line">  Vehicle alpha(<span class="stringliteral">&quot;vehiclespecs/alpha-romeo.xml&quot;</span>);</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE</a>(&amp;alpha, <span class="stringliteral">&quot;car/Alpha-Romeo&quot;</span>);</div>
<div class="line">  Vehicle f16(<span class="stringliteral">&quot;vehiclespecs/f16.xml&quot;</span>);</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE</a>(&amp;f16, <span class="stringliteral">&quot;fighter/F-16&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line">  <span class="keywordtype">double</span> drag_at_210kmh = alpha.calculate_drag_force(210);  <span class="comment">// will produce debugging output</span></div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_a90be45a8dca9af4e6a6f982c6ce05a93"><div class="ttname"><a href="klfdebug_8h.html#a90be45a8dca9af4e6a6f982c6ce05a93">KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE</a></div><div class="ttdeci">#define KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE()</div><div class="ttdoc">Declare that this class has an assignable debugging ref-instance.</div></div>
<div class="ttc" id="aklfdebug_8h_html_ae0d701bdc56c3e0ed142193cd3ca41fd"><div class="ttname"><a href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE</a></div><div class="ttdeci">#define KLF_DEBUG_ASSIGN_REF_INSTANCE(object, ref_instance)</div><div class="ttdoc">Assign a debugging ref-instance to a class instance.</div></div>
<div class="ttc" id="aklfdebug_8h_html_afba4d79c54bcf0efb7e7193738210b3a"><div class="ttname"><a href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a></div><div class="ttdeci">#define klfDbg(streamableItems)</div><div class="ttdoc">print debug stream items</div></div>
</div><!-- fragment --><p> This program will produce debugging output at the last line marked above: </p><pre>Vehicle::calculate_drag_force():<b>[car/Alpha-Romeo]</b>
       node=[kind=1, children/sz=0,allfetched=false]</pre><p> Note that the ref-instance is the one assigned with <a class="el" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd" title="Assign a debugging ref-instance to a class instance.">KLF_DEBUG_ASSIGN_REF_INSTANCE()</a>. </p>

</div>
</div>
<a id="a5c19c088c6291d01092fe1404e342675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c19c088c6291d01092fe1404e342675">&#9670;&nbsp;</a></span>KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns to the given object the same ref-instance as the current object instance. </p>
<p>This macro works very much like <a class="el" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd" title="Assign a debugging ref-instance to a class instance.">KLF_DEBUG_ASSIGN_REF_INSTANCE()</a>, but instead of assigning a given string as ref-instance, it assigns the ref-instance from the current object instance it is being called from.</p>
<p>Note that the ref-instance string is copied at the time of calling this macro. In other words:</p><ul>
<li>if the current object has itself an assignable ref-instance, and the ref-instance of the current object is not yet set, then <code>object</code> will be set an empty ref-instance</li>
<li>if the ref-instance of the current class instance changes, then the second class will not update its ref-instance.</li>
</ul>
<p>Example usage: in <code>src/klflibview.cpp</code>, in KLFLibDefaultView, when the corresponding view model is created, it is assigned the same ref-instance to the view object: </p><div class="fragment"><div class="line">KLFLibDefaultView::setResource(...)  : ...</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line">  pModel = <span class="keyword">new</span> KLFLibModel(...);</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#a5c19c088c6291d01092fe1404e342675">KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE</a>(pModel) ;</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_a5c19c088c6291d01092fe1404e342675"><div class="ttname"><a href="klfdebug_8h.html#a5c19c088c6291d01092fe1404e342675">KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE</a></div><div class="ttdeci">#define KLF_DEBUG_ASSIGN_SAME_REF_INSTANCE(object)</div><div class="ttdoc">Assigns to the given object the same ref-instance as the current object instance.</div></div>
</div><!-- fragment --><p> Debugging messages sent from the KLFLibModel object will be tagged with the same ref-instance string as the messages sent from the KLFLibDefaultView object. </p>

</div>
</div>
<a id="ab598fc2e2eda50a7703e2ceae289235a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab598fc2e2eda50a7703e2ceae289235a">&#9670;&nbsp;</a></span>KLF_DEBUG_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_BLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility to debug the execution of a block. </p>
<p>Prints msg with <code>": block begin"</code> when this macro is called, and prints msg with <code>": block end"</code> at the end of the block. The end of the block is detected by creating an object on the stack and printing the message in that object's destructor.</p>
<dl class="section note"><dt>Note</dt><dd>KLF_DEBUG needs to be defined at compile-time to enable this feature. Otherwise, this macro is a no-op.</dd></dl>
<p>This macro accepts a QString.</p>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> do_something() {</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>(<span class="stringliteral">&quot;block do_something() execution&quot;</span>) ;</div>
<div class="line">  ... <span class="comment">// do something</span></div>
<div class="line">  <span class="keywordflow">if</span> (failed) { <span class="comment">// for example</span></div>
<div class="line">    <a class="code" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>(QString(<span class="stringliteral">&quot;%1: failed if-block&quot;</span>).arg(KLF_FUNC_NAME)) ;</div>
<div class="line">    ... <span class="comment">// more fail treatment...</span></div>
<div class="line">    <span class="keywordflow">return</span>;   <span class="comment">// both end block messages will be printed here automatically</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (go_no_further)</div>
<div class="line">    <span class="keywordflow">return</span>;   <span class="comment">// do_something() end block msg will be printed here automatically</span></div>
<div class="line">  ...</div>
<div class="line">  <span class="comment">// no special instruction needed at end of block</span></div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_ab598fc2e2eda50a7703e2ceae289235a"><div class="ttname"><a href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a></div><div class="ttdeci">#define KLF_DEBUG_BLOCK(msg)</div><div class="ttdoc">Utility to debug the execution of a block.</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><code>msg</code> is (macro-expanded) added to a <code>QString("")</code>, so you can write something like <div class="fragment"><div class="line"><a class="code" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>(KLF_FUNC_NAME+<span class="stringliteral">&quot;(int,void*)&quot;</span>) ;</div>
</div><!-- fragment --> (the <code>'+'</code> is understood well) instead of having to write <div class="fragment"><div class="line"><a class="code" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>(QString(<span class="stringliteral">&quot;&quot;</span>)+KLF_FUNC_NAME+<span class="stringliteral">&quot;(int,void*)&quot;</span>) ;</div>
</div><!-- fragment --> even though <code>KLF_FUNC_NAME</code> expands into a <code>const char*</code>.</dd></dl>
<p>Advanced: If that last note wasn't clear, consider that this macro expands to: </p><div class="fragment"><div class="line"><a class="code" href="classKLFDebugBlock.html">KLFDebugBlock</a> __klf_debug_block(QString(<span class="stringliteral">&quot;&quot;</span>)+msg)</div>
<div class="ttc" id="aclassKLFDebugBlock_html"><div class="ttname"><a href="classKLFDebugBlock.html">KLFDebugBlock</a></div><div class="ttdoc">Utility to time the execution of a block.</div><div class="ttdef"><b>Definition:</b> klfdebug.h:55</div></div>
</div><!-- fragment --><p> where <code><a class="el" href="classKLFDebugBlock.html" title="Utility to time the execution of a block.">KLFDebugBlock</a></code> is a helper class and <code>__klf_debug_block</code> the name of an instance of that class created on the stack. <code>msg</code> is passed as argument to the constructor, added to a QString(""), which allows for the feature explained above, using the fact that the preprocessor replaces the macro argument in full text, and the fact that the <code>'+'</code> operator operates from left to right.</p>
<dl class="section warning"><dt>Warning</dt><dd>This is a macro that expands its text without explicitely protecting it (this allows you to do what the above note said). </dd></dl>

</div>
</div>
<a id="a90be45a8dca9af4e6a6f982c6ce05a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90be45a8dca9af4e6a6f982c6ce05a93">&#9670;&nbsp;</a></span>KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_DECLARE_ASSIGNABLE_REF_INSTANCE</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare that this class has an assignable debugging ref-instance. </p>
<p>This macro should be used within class declarations. If the KLF_DEBUG symbol is defined, this macro will declare a ref-instance for that class, which other objects may assign with <a class="el" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE()</a>.</p>
<p>See also <a class="el" href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">KLF_DEBUG_DECLARE_REF_INSTANCE</a> and <a class="el" href="klfdebug_8h.html#ae0d701bdc56c3e0ed142193cd3ca41fd">KLF_DEBUG_ASSIGN_REF_INSTANCE()</a>. See the latter for an example usage. </p>

</div>
</div>
<a id="aa524bc8e17fce5323ea853e70a8d44a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa524bc8e17fce5323ea853e70a8d44a0">&#9670;&nbsp;</a></span>KLF_DEBUG_DECLARE_REF_INSTANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_DECLARE_REF_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declares a 'ref-instance' identifier for identifying insances in debug output. </p>
<p>Useful for debugging classes that are instanciated multiple times, and that may superpose debugging output.</p>
<p>Use this macro in the class declaration and specify an expression that will identify the instance. Then this information will be displayed in the debug message when using <a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg()</a>.</p>
<p>The expression given as argument to this macro is any valid expression that can be used within a const member function&mdash;you may reference eg. private properties, private functions, inherited protected members, public functions, etc. The expression should evaluate to a QString, or any expression that can be added (with <code>operator+(QString,...)</code>) to a QString.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">class </span>MyDocument {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MyDocument(QString fname) : fileName(fname) { }</div>
<div class="line">  <span class="comment">// ....</span></div>
<div class="line">  QString currentFileName()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fileName; }</div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  QString fileName;</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">KLF_DEBUG_DECLARE_REF_INSTANCE</a>( currentFileName() ) ;</div>
<div class="line">  <span class="comment">//  we could also have used (equivalent):</span></div>
<div class="line">  <span class="comment">//KLF_DEBUG_DECLARE_REF_INSTANCE( fileName ) ;</span></div>
<div class="line">};</div>
<div class="ttc" id="aklfdebug_8h_html_aa524bc8e17fce5323ea853e70a8d44a0"><div class="ttname"><a href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">KLF_DEBUG_DECLARE_REF_INSTANCE</a></div><div class="ttdeci">#define KLF_DEBUG_DECLARE_REF_INSTANCE(expr)</div><div class="ttdoc">Declares a 'ref-instance' identifier for identifying insances in debug output.</div></div>
</div><!-- fragment --><p>This macro expands to a protected inline member returning the given expression surrounded with square brackets.</p>
<dl class="section note"><dt>Note</dt><dd>this feature is optional. Classes that do not declare a 'ref-instance' will still be able to use <code><a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a" title="print debug stream items">klfDbg()</a></code> normally, except there is no way (apart from what you output yourself) to make the difference between messages originating from two different class instances.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>when you declare a 'ref-instance' in a class, static members of that class cannot use <code>klfDbg</code> any more because that macro will try to invoke the ref-instance of the class. Use instead <a class="el" href="klfdebug_8h.html#a752443613b23e1809dfa910625dda741">klfDbgSt</a> which does the same thing, but explicitely skips the ref-instance. This is not needed for classes that do not declare a ref-instance. </dd></dl>

</div>
</div>
<a id="ad012ab9318b2476e2a2cb69054314f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad012ab9318b2476e2a2cb69054314f7a">&#9670;&nbsp;</a></span>KLF_DEBUG_TEE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_TEE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the value of expression and return it. </p>
<p>If KLF_DEBUG preprocessor symbol is not defined, this macro just expands to <code>(expr)</code>.</p>
<dl class="section note"><dt>Note</dt><dd>This macro works only in Qt4.</dd></dl>
<p>Very useful for debugging return values, eg. </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> <a class="code" href="klfdebug_8h.html#ad012ab9318b2476e2a2cb69054314f7a">KLF_DEBUG_TEE</a>(result);</div>
<div class="ttc" id="aklfdebug_8h_html_ad012ab9318b2476e2a2cb69054314f7a"><div class="ttname"><a href="klfdebug_8h.html#ad012ab9318b2476e2a2cb69054314f7a">KLF_DEBUG_TEE</a></div><div class="ttdeci">#define KLF_DEBUG_TEE(expr)</div><div class="ttdoc">Print the value of expression and return it.</div></div>
</div><!-- fragment --><p> effectively does </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> result;</div>
</div><!-- fragment --><p> however printing the result while returning it. </p>

</div>
</div>
<a id="a1135833ff1f2019684d3f9fb44ec8f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1135833ff1f2019684d3f9fb44ec8f3b">&#9670;&nbsp;</a></span>KLF_DEBUG_TIME_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KLF_DEBUG_TIME_BLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility to time the execution of a block. </p>
<p>This macro behaves exactly like <a class="el" href="klfdebug_8h.html#ab598fc2e2eda50a7703e2ceae289235a">KLF_DEBUG_BLOCK</a>, but also prints the current time (short format) for timing the execution of the given block.</p>
<p>The effective internal difference between KLF_DEBUG_TIME_BLOCK and KLF_DEBUG_BLOCK is the use of the helper class <a class="el" href="classKLFDebugBlockTimer.html" title="An extension of KLFDebugBlock with millisecond-time display.">KLFDebugBlockTimer</a> instead of <a class="el" href="classKLFDebugBlock.html" title="Utility to time the execution of a block.">KLFDebugBlock</a>.</p>
<dl class="section note"><dt>Note</dt><dd>KLF_DEBUG needs to be defined at compile-time to enable this feature. Otherwise, this maco is a no-op.</dd></dl>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> do_something() {</div>
<div class="line">  <a class="code" href="klfdebug_8h.html#a1135833ff1f2019684d3f9fb44ec8f3b">KLF_DEBUG_TIME_BLOCK</a>(KLF_FUNC_NAME) ;</div>
<div class="line">  ... <span class="comment">// some lengthy operation</span></div>
<div class="line">  ... <span class="keywordflow">if</span> (failed) <span class="keywordflow">return</span>; <span class="comment">// for example</span></div>
<div class="line">  ... <span class="comment">// no special instruction needed at end of block</span></div>
<div class="line">}</div>
<div class="ttc" id="aklfdebug_8h_html_a1135833ff1f2019684d3f9fb44ec8f3b"><div class="ttname"><a href="klfdebug_8h.html#a1135833ff1f2019684d3f9fb44ec8f3b">KLF_DEBUG_TIME_BLOCK</a></div><div class="ttdeci">#define KLF_DEBUG_TIME_BLOCK(msg)</div><div class="ttdoc">Utility to time the execution of a block.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="afba4d79c54bcf0efb7e7193738210b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba4d79c54bcf0efb7e7193738210b3a">&#9670;&nbsp;</a></span>klfDbg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define klfDbg</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">streamableItems</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print debug stream items </p>
<dl class="section warning"><dt>Warning</dt><dd>This macro may be counter-intuitive, as the argument is not evaluated before expansion. This macro expands more or less to: <div class="fragment"><div class="line">qDebug()&lt;&lt;KLF_FUNC_NAME [possibly more info, eg ref-instance] &lt;&lt;<span class="stringliteral">&quot;: &quot;</span>&lt;&lt; streamableItems </div>
</div><!-- fragment --> which means that you can list any QDebug-streamable items as macro arguments, separated by a <code>&lt;&lt;</code> operator, keeping in mind that these stream operators will be "seen" only AFTER the macro has expanded. Example usage: <div class="fragment"><div class="line"><span class="keywordtype">int</span> index = ...; QString mode = ...;</div>
<div class="line"><a class="code" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>( <span class="stringliteral">&quot;index is &quot;</span>&lt;&lt;index&lt;&lt;<span class="stringliteral">&quot; and mode is &quot;</span>&lt;&lt;mode ) ; </div>
</div><!-- fragment --></dd></dl>
<p>The advantage of this syntax is that when disabling debug, the parts in your code where you call this macro are truly "erased" (the macro itself, with all its arguments, expands to nothing), and result into no overhead of having to go eg. through null-streams. Additionally, all macro arguments are NOT evaluated in non-debug mode.</p>
<dl class="section warning"><dt>Warning</dt><dd>This macro in its full-featured version requires Qt4. When used with Qt3, the argument may no longer be "any streamable items" because Qt3 does not support qDebug() streaming. However this macro still works, with the limitation that the argument must be a QString, or an expression that can be cast into a QString. (see also <a class="el" href="klfdefs_8h.html#a2c815a636e03dbd8fd8318c1f5eef36d">klfFmtCC()</a>) <div class="fragment"><div class="line"><span class="comment">// Qt3 Usage Example</span></div>
<div class="line"><a class="code" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>(<span class="stringliteral">&quot;debug message&quot;</span>) ;</div>
<div class="line"><a class="code" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>(QString(<span class="stringliteral">&quot;debug message. value is %1.&quot;</span>).arg(value)) ;</div>
<div class="line"><a class="code" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a">klfDbg</a>(<a class="code" href="klfdefs_8h.html#a2c815a636e03dbd8fd8318c1f5eef36d">klfFmtCC</a>(<span class="stringliteral">&quot;debug. value is %d, string is %s, and flags are %#010x.&quot;</span>, intvalue, strvalue, flags)) ;</div>
<div class="ttc" id="aklfdefs_8h_html_a2c815a636e03dbd8fd8318c1f5eef36d"><div class="ttname"><a href="klfdefs_8h.html#a2c815a636e03dbd8fd8318c1f5eef36d">klfFmtCC</a></div><div class="ttdeci">#define klfFmtCC</div><div class="ttdef"><b>Definition:</b> klfdefs.h:65</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a752443613b23e1809dfa910625dda741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752443613b23e1809dfa910625dda741">&#9670;&nbsp;</a></span>klfDbgSt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define klfDbgSt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">streamableItems</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print debug stream items (special case) </p>
<p>Like <a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a" title="print debug stream items">klfDbg()</a>, but for use in static functions in classes for which you have declared a 'ref-instance' with <a class="el" href="klfdebug_8h.html#aa524bc8e17fce5323ea853e70a8d44a0">KLF_DEBUG_DECLARE_REF_INSTANCE()</a>.</p>
<p>If you get compilation errors like '<code>cannot call memeber function ...::__klf_debug_ref_instance() const without object</code>' then it is likely that you should use this macro instead.</p>
<p>Explanation: ref instance works by declaring a protected inline const member in classes. A function with the same name exists globally, returning an empty string, such that classes that do not declare a ref-instance may use <a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a" title="print debug stream items">klfDbg()</a> which sees the global no-op ref-instance function. However, static members of classes that declare a ref-instance see the class' ref-instance function, which evidently cannot be called from a static member. Use this macro in that last case, that simply bypasses the ref-instance call (anyway you won't need it in a static function !). </p>

</div>
</div>
<a id="a1442e7aabc4c6846ea62376da1bd04f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1442e7aabc4c6846ea62376da1bd04f8">&#9670;&nbsp;</a></span>klfDbgStT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define klfDbgStT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">streamableItems</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print debug stream items, with current time (special case) </p>
<p>Same as <a class="el" href="klfdebug_8h.html#a752443613b23e1809dfa910625dda741" title="print debug stream items (special case)">klfDbgSt()</a>, but prints also the time like <a class="el" href="klfdebug_8h.html#accf65717eb3c4c4be8924f17ee8570df" title="print debug stream items, with current time">klfDbgT()</a> does. </p>

</div>
</div>
<a id="accf65717eb3c4c4be8924f17ee8570df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf65717eb3c4c4be8924f17ee8570df">&#9670;&nbsp;</a></span>klfDbgT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define klfDbgT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">streamableItems</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print debug stream items, with current time </p>
<p>Same as <a class="el" href="klfdebug_8h.html#afba4d79c54bcf0efb7e7193738210b3a" title="print debug stream items">klfDbg()</a>, but also prints current time given by KLF_SHORT_TIME. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a70a9ea0e9b032087edb53e3a3a640a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a9ea0e9b032087edb53e3a3a640a28">&#9670;&nbsp;</a></span>klfShortFuncSignature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KLF_EXPORT QByteArray klfShortFuncSignature </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fullFuncName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes as input a funcion signature like </p><pre>void MyClass::functionName(const QString&amp; arg1, int arg2) const</pre><p> and outputs a short form of it, like </p><pre>MyClass::functionName</pre> 
</div>
</div>
<a id="af0bc31545e6795c4a6f2cfce923e8868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bc31545e6795c4a6f2cfce923e8868">&#9670;&nbsp;</a></span>klfTimeOfDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KLF_EXPORT QString klfTimeOfDay </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shortFmt</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns something like <code>456.234589</code> (in a <code>QString</code>) that represents the actual time in seconds from midnight.</p>
<p>if <code>shortFmt</code> is TRUE, then the seconds are truncated to 3 digits (ie. seconds are given modulo 1000). In this case, the absolute time reference is undefined, but stays always the same along the program execution (useful for debug messages and timing blocks of code).</p>
<p>Otherwise if <code>shortFmt</code> is FALSE, the full second and micro-second count output of gettimeofday() is given. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
